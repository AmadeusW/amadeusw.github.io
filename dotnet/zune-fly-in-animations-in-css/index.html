<!doctype html><html><head><title>Amadeus' page</title><link rel=stylesheet href=//amadeusw.com/css/style.css><meta name=viewport content="width=device-width,initial-scale=1"></head><body><div id=container class=centered><header id=title class="containerelement navcontent"><a class=link href=//amadeusw.com><span class=headercontent>Amadeo</span></a></header><div id=subtitle class="accent_dotnet containerelement navcontent"><span class=headercontent>Zune fly-in animations in CSS</span></div><nav class="accent_dotnet containerelement"><div class=navcontent><a class=link href=/travel/>Travel</a>
<a class=link href=/3dprinting/>3D printing</a>
<a class=link href=/tech/>Electronics</a>
<a class=link href=/projects/>Projects</a>
<a class=link href=/cookery/>Cookery</a>
<a class="link active" href=/dotnet/>.net</a></div></nav><div id=content class=containerelement><main class=centered><article class=dotnet><p>A few years before the <a href=http://en.wikipedia.org/wiki/Metro_%28design_language%29>Metro interface</a> reached broader audiences through Windows Phone and Windows 8, Microsoft pioneered the Metro interface in the <em>Zune</em> app. The early versions of Metro, especially the one seen in Zune, was focused on typography. Currently, &ldquo;metro interface&rdquo; is associated with colorful, rectangular tiles:</p><p><img src=//amadeusw.com/techBlogData//zune-animations-css/OriginalMetro.png alt="Search results for &amp;ldquo;Metro Interface&amp;rdquo; in 2010">
<img src=//amadeusw.com/techBlogData//zune-animations-css/CurrentMetro.PNG alt="Current search results for Metro Interface"></p><hr><h1 id=recreating-the-effect>Recreating the effect</h1><p>I enjoyed the way Zune software looked and felt, and I wanted to create similar effect on my website</p><p>I liked the animation most when navigation flies in form one direction and the article flies in from another direction. The bottom half of the navigation, flies in from a little bit further source, and appears to be faster. Additionally, each of the navigation elements&rsquo; animation is delayed relatively to the previous element.</p><h1 id=code-explained>Code explained</h1><p>The origin and destination of movement are controlled by <code>paddingLeft</code> and <code>paddingRight</code> CSS properties. Fading is accomplished using the <code>opacity</code> property.</p><p>The first part of javascript selects the <strong>header</strong>, and sets up its animation to full opacity and 20px to the right.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#a6e22e>$</span>( <span style=color:#e6db74>&#34;#&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>id</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34; &gt; header&#34;</span> ).<span style=color:#a6e22e>stop</span>()
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>css</span>({
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;paddingLeft&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;20px&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;opacity&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0&#39;</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>animate</span>({
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;paddingLeft&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;40px&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;opacity&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;1&#39;</span>
</span></span><span style=display:flex><span>    }, <span style=color:#e6db74>&#39;slow&#39;</span>);
</span></span></code></pre></div><p>The second part selects the <strong>navigation bar</strong> below the header and sets up its animation 30px to the right.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#a6e22e>$</span>( <span style=color:#e6db74>&#34;#&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>id</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34; &gt; nav&#34;</span> ).<span style=color:#a6e22e>stop</span>()
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>css</span>({
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;paddingLeft&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;10px&#39;</span>,
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>animate</span>({
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;paddingLeft&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;40px&#39;</span>,
</span></span><span style=display:flex><span>    }, <span style=color:#e6db74>&#39;slow&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* continued: */</span>
</span></span></code></pre></div><p>The code then continues to find <strong>each contained navigation element</strong> and individually animates it to full opacity and adding extra 10px of movement. Navigation elements are dound using <a href=https://api.jquery.com/each/><code>each</code></a> method, and animation <a href=https://api.jquery.com/delay/><code>delay</code></a> increases for consecutive elements.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>    .<span style=color:#a6e22e>find</span>( <span style=color:#e6db74>&#34;li&#34;</span> ).<span style=color:#a6e22e>each</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>childId</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>$</span>(<span style=color:#66d9ef>this</span>).<span style=color:#a6e22e>stop</span>().<span style=color:#a6e22e>css</span>({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;opacity&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;margin-right&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;20px&#39;</span>
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>      .<span style=color:#a6e22e>delay</span>(<span style=color:#ae81ff>100</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>childId</span><span style=color:#f92672>*</span><span style=color:#ae81ff>200</span>)
</span></span><span style=display:flex><span>      .<span style=color:#a6e22e>animate</span>({
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;opacity&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;1&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;margin-right&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;30px&#39;</span>
</span></span><span style=display:flex><span>      }, <span style=color:#e6db74>&#39;slow&#39;</span>);
</span></span><span style=display:flex><span>    });
</span></span></code></pre></div><hr><h1 id=final-note-on-ux>Final note on UX</h1><p><a href=https://twitter.com/honzie>@Honzie</a> helped me improve the fly-in animation for the article content: he pointed me to <a href=http://www.google.com/design/spec/material-design/introduction.html>Google&rsquo;s <em>Material Design</em></a> which reminds that <em>everything that moves should move for a reason</em>, in order to mimic a physical object.</p><p>Hence, navigation left causes the article to fly in from the left side, and navigation right causes the article to fly in from the right side.</p><p>The origin and destination of animation are similarly controlled by <code>paddingLeft</code> and <code>paddingRight</code> CSS properties. <code>newSectionId</code> and <code>lastSectionId</code> are global variables that control direction of animation, and they are set in methods that handle link clicks.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>initialPaddingLeft</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;30px&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>initialPaddingRight</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;20px&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>newSectionId</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>lastSectionId</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>initialPaddingLeft</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;50px&#39;</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>initialPaddingRight</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;0px&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>When changing articles (this causes the header to fly in from the left), <code>newSectionId</code> and <code>lastSectionId</code> are both equal to <code>0</code> and therefore the content flies in from the right.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>$</span>( <span style=color:#e6db74>&#34;#&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>id</span> ).<span style=color:#a6e22e>stop</span>().<span style=color:#a6e22e>show</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>css</span>({
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;paddingLeft&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>initialPaddingLeft</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;paddingRight&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>initialPaddingRight</span>,
</span></span><span style=display:flex><span>     <span style=color:#e6db74>&#39;opacity&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0&#39;</span>})
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>animate</span>({
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;paddingLeft&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;40px&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;paddingRight&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;10px&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;opacity&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;1&#39;</span>
</span></span><span style=display:flex><span>  }, <span style=color:#e6db74>&#39;slow&#39;</span>);
</span></span></code></pre></div><p>Check out the final result on <a href=http://amadeusw.com>my portfolio</a> or <a href=https://github.com/AmadeusW/amadeusw.github.io>browse its source on github</a></p></article></main></div><div id=footer class=containerelement><div id=footerName><abbr title="Pronounce: A-ma-de-ows Vee-cho-reck">Amadeus Wieczorek</abbr></div><div id=footerUnderName>I supercharge your productivity.</div><ul id=footerLinks><li><a href=//github.com/amadeusw>My github</a></li><li><a href=//amadeusw.com/portfolio>2013 portfolio</a></li><li><a href=feed.xml>RSS feed</a></li><li><a href=#>Scroll to top</a></li></div></div></div></body></html>