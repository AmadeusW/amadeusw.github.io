<!doctype html><html lang=en><head><title>Amadeus' page</title><link rel=stylesheet href=//amadeusw.com/css/style.css><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Personal website of Amadeusz Wieczorek about projects, travel and programming."></head><body><header id=title><a href=//amadeusw.com><h2>Amadeusz Wieczorek</h2></a></header><article class=tech><header id=postheader class=accent_tech><h3>Git</h3></header><main><h1 id=config>Config</h1><pre tabindex=0><code>git config merge.conflictstyle diff3
git config diff.wsErrorHighlight all
git config push.autoSetupRemote true
</code></pre><p><code>merge.conflictstyle diff3</code> adds original code to the diff view, this helps arrive at correct resolution when resolving a conflict
<code>diff.wsErrorHighlight all</code> Displays whitespace in diff
<code>push.autoSetupRemote true</code> automates the first push of a branch</p><h1 id=aliases>Aliases</h1><p>I feel at home with these aliases:</p><pre tabindex=0><code>git config --global alias.st &#34;status --short&#34;
git config --global alias.last &#34;log --stat -1 HEAD&#34;
git config --global alias.ls &#34;log --pretty=format:&#39;%Cgreen %H %Creset%cr%Cred by %cn%Creset%n%s%n&#39; --stat --graph&#34;
git config --global alias.put &#34;!git add .; git commit -m&#34;
git config --global alias.branches &#34;branch -avv  --sort=-committerdate&#34;
git config --global alias.diffs &#34;diff -z --cached --color-moved&#34;
git config --global alias.diffl &#34;diff  --color-moved HEAD~ HEAD&#34;
git config --global alias.d &#34;!git diff -z  --color-moved --unified=0; echo &#39;Summary:&#39;; git status --short&#34;
git config --global alias.please &#34;push --force-with-lease&#34;
git config --global alias.pub &#34;!f() { branch=$(git rev-parse --abbrev-ref HEAD); git push --set-upstream origin $branch; }; f&#34;
</code></pre><p>The only thing to watch out for is that speedy <code>git put</code> eagerly commits all changes in the working tree, including any unexpected or overlooked changes.</p><h1 id=prompt-summary>Prompt summary</h1><p>On Windows, I use <a href="https://github.com/dahlbyk/posh-git?tab=readme-ov-file#installation">PoshGit</a> to show status summary in the prompt and - most importantly - provide tab-completion.</p><h1 id=tips>Tips</h1><p>When I started work on a clone, and then want to transition to my fork</p><pre tabindex=0><code>git remote set-url origin &lt;fork URL&gt;
git fetch --all -p
</code></pre><p>To ignore a change to the file</p><pre tabindex=0><code>git update-index --skip-worktree .gitignore
</code></pre><p>To list all conflicts</p><pre tabindex=0><code>git diff --name-only --diff-filter=U
</code></pre><p>Occasional manual cleanup (tip: run it on schedule)</p><pre tabindex=0><code>git gc
git prune
git gc --aggressive
</code></pre></main></article><footer><span><a href=/about/>//AW</a></span>
<span><a href=#>Scroll to top</a></span></footer></body></html>